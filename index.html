<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" type="image/png" href="img/IconoHelloKitty.jpg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Love+Ya+Like+A+Sister&display=swap"
      rel="stylesheet"
    />
    <title>Registro Almuerzos Hello Kitty</title>
  </head>
  <body>
    <header>
      <h1>Registro Interactivo de Almuerzos</h1>
      <img
        src="img/Hello_Kitty_con_letras.png"
        alt="logo de Hello_Kitty_con_letras"
      />
    </header>
    <main>
      <form id="almuerzoForm">
        <div class="form-group">
          <label for="fecha">Fecha:</label><br />
          <input type="date" id="fecha" name="date" required />
        </div>

        <div>
          <label for="plato">Almuerzo del d√≠a</label>
          <input type="text" id="plato" name="meal" required />
        </div>

        <div>
          <label for="carneSelect">Prote√≠na</label><br />
          <select id="carneSelect" name="Proteina" required>
            <option value="">--Selecciona una Opci√≥n--</option>
            <option value="Pollo">Pollo</option>
            <option value="Res">Res</option>
            <option value="Cerdo">Cerdo</option>
            <option value="Pescado">Pescado</option>
            <option value="Huevo">Huevo</option>
            <option value="Salchicha">Salchicha</option>
            <option value="Vegetariano">Vegetariano</option>
            <option value="otro">Otro</option>
          </select>
          <input
            type="text"
            id="carneOtroInput"
            placeholder="Especifica otra prote√≠na"
            style="display: none"
          />
        </div>
        <div class="ingredientes">
          <label for="ingredientes">Ingredientes</label>
          <textarea
            name="ingredientes"
            id="ingredientes"
            placeholder="Ingredientes separados por comas"
            required
          ></textarea>
        </div>
        <div class="buttons">
          <button type="submit" id="saveButton">
            <img src="img/Melody.png" alt="Guardar" class="btn-icon" />
            Guardar
          </button>
          <button type="button" id="limpiar">
            <img src="img/Chococat.png" alt="Limpiar" class="btn-icon" />
            Limpiar
          </button>
        </div>
      </form>
      <section id="resumen">
        <h2>Almuerzos Recientes Registrados</h2>
        <div id="resumenDias"></div>
      </section>
      <section id="graficaVariedad">
        <h2>Uso de Carnes esta Semana</h2>
        <canvas id="chartCarnes" height="200"></canvas>
      </section>
      <br />
      
      <!-- Nueva secci√≥n de IA -->
      <div id="consultaIA">
        <h3>ü§ñ Consulta Almuerzos y sugerencia de recetas con IA</h3>
        <div class="ia-container">
          <div class="chat-input-container">
            <textarea
              id="preguntaIA"
              placeholder="Preg√∫ntame cualquier cosa sobre tus almuerzos... ¬øQu√© has comido m√°s esta semana? ¬øNecesitas ideas para ma√±ana?"
              rows="3"
            ></textarea>
            <button id="consultarIA" class="buttons2">
              <img
                src="img/vectores.png"
                alt="Consultar IA"
                style="
                  width: 30px;
                  height: auto;
                  vertical-align: middle;
                  margin-right: 5px;
                "
              />
              Preguntar a la IA
            </button>
          </div>
          <div id="respuestaIA" class="ia-response">
            <div class="ia-welcome">
              ¬°Hola! Soy tu asistente inteligente de almuerzos üçΩÔ∏è<br>
              Puedes preguntarme cualquier cosa sobre tus almuerzos o pedirme recetas
            </div>
          </div>
          <div id="loadingIA" class="loading-ia" style="display: none;">
            <div class="loading-dots">
              <span></span>
              <span></span>
              <span></span>
            </div>
            Pensando...
          </div>
        </div>
      </div>

      <section class="buttons" id="graficaIngredientes">
        <button type="button" id="borrarTodo">
          Borrar todos los Registros
        </button>
      </section>
    </main>

    <footer>
      <p>
        &copy; Todos los derechos reservados. Aplicaci√≥n desarrollada por Cesar
        Martinez
      </p>
      <img src="img/logo_letra_blanca_sin_fondo.png" alt="Logo Desarrollador" />
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="operatividad.js"></script>
    <script src="ia-assistant.js"></script>
    <div id="vectorRainContainer"></div>
    <script src="vectores.js"></script> 
  </body>
</html>